# Chapter 11 í•©ì„±ê³¼ ìœ ì—°í•œ ì„¤ê³„

ìƒì†ì—ì„œ ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹í´ë˜ìŠ¤ ì‚¬ì´ ì˜ì¡´ì„±ì€ ì»´íŒŒì¼íƒ€ì„ì— í•´ê²°ë˜ì§€ë§Œ í•©ì„±ì—ì„œ ë‘ ê°ì²´ ì‚¬ì´ì˜ ì˜ì¡´ì„±ì€ ëŸ°íƒ€ì„ì— í•´ê²°ë¨.
ìƒì†ê´€ê³„ëŠ” is-a ê´€ê³„, í•©ì„±ê´€ê³„ëŠ” has-aê´€ê³„ ë¼ê³  ë¶€ë¦„.

ìƒì†ì„ ì œëŒ€ë¡œ í™œìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë‚´ë¶€ êµ¬í˜„ì— ëŒ€í•´ ìƒì„¸í•˜ê²Œ ì•Œì•„ì•¼ í•˜ê¸° ë•Œë¬¸ì— ìì‹í´ë˜ìŠ¤ì™€ ë¶€ëª¨í´ë˜ìŠ¤ ì‚¬ì´ì˜ ê²°í•©ë„ê°€ ë†’ì•„ì§.

ìƒì†ê´€ê³„ëŠ” í´ë˜ìŠ¤ ì‚¬ì´ì˜ ì •ì ì¸ ê´€ê³„ì¸ë° ë¹„í•´ í•©ì„±ê´€ê³„ëŠ” ê°ì²´ì‚¬ì´ì˜ ë™ì ì¸ ê´€ê³„ì„.
ìƒì† ëŒ€ì‹  í•©ì„±ì„ ì‚¬ìš©í•˜ë©´ ë³€ê²½í•˜ê¸° ì‰½ê³  ìœ ìš©í•œ ì„¤ê³„ë¥¼ ì–»ì„ ìˆ˜ ìˆìŒ.

[ì½”ë“œ ì¬ì‚¬ìš©ì„ ìœ„í•´ì„œëŠ”] ê°ì²´ í•©ì„±ì´ í´ë˜ìŠ¤ ìƒì†ë³´ë‹¤ ë” ì¢‹ì€ ë°©ë²•ì„.

ìƒì†ì€ ë¶€ëª¨í´ë˜ìŠ¤ ì•ˆì— êµ¬í˜„ëœ ì½”ë“œ ìì²´ë¥¼ ì¬ì‚¬ìš©í•˜ì§€ë§Œ, í•©ì„±ì€ í¬í•¨ë˜ëŠ” ê°ì²´ì˜ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¬ì‚¬ìš©í•¨. í´ë˜ìŠ¤ ì‚¬ì´ì˜ ë†’ì€ ê²°í•©ë„ë¥¼ ê°ì²´ì‚¬ì´ ë‚®ì€ ê²¹í•©ë„ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆìŒ.

### 01. ìƒì†ì„ í•©ì„±ìœ¼ë¡œ ë³€ê²½í•˜ê¸°

10ì¥ì—ì„œ ì½”ë“œ ì¬ì‚¬ìš©ì„ ìœ„í•´ ìƒì†ì„ ë‚¨ìš©í–ˆì„ë•Œ ì§ë©´í•  ìˆ˜ ìˆëŠ” ì„¸ê°€ì§€ ë¬¸ì œì ì„ ì‚´í´ ë´¤ìŒ.

<aside>
ğŸ’¡ ë¶ˆí•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ ìƒì†
- ìì‹ í´ë˜ìŠ¤ì—ê²Œ ë¶€ì í•©í•œ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ì˜¤í¼ë ˆì´ì…˜ì´ ìƒì†ë˜ê¸° ë•Œë¬¸ì— ìì‹ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒíƒœê°€ ë¶ˆì•ˆì • í•´ì§€ëŠ” ë¬¸ì œ

ë©”ì„œë“œ ì˜¤ë²„ë¦¬ì´ë”©ì˜ ì˜¤ì‘ìš© ë¬¸ì œ
- ìì‹í´ë˜ìŠ¤ê°€ ë¶€ëª¨í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”© í• ë•Œ ìì‹ í´ë˜ìŠ¤ê°€ ë¶€ëª¨í´ë˜ìŠ¤ì˜ ë©”ì„œë“œ í˜¸ì¶œ ë°©ë²•ì— ì˜í–¥ì„ ë°›ëŠ” ë¬¸ì œ

ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹í´ë˜ìŠ¤ì˜ ë™ì‹œìˆ˜ì • ë¬¸ì œ
- ë¶€ëª¨í´ë˜ìŠ¤ì™€ ìì‹í´ë˜ìŠ¤ ì‚¬ì´ì˜ ê°œë…ì ì¸ ê²°í•©ìœ¼ë¡œ ì¸í•´ ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ë³€ê²½í• ë•Œ ìì‹ í´ë˜ìŠ¤ë„ í•¨ê»˜ ë³€ê²½í•´ì•¼ í•˜ëŠ” ë¬¸ì œ

</aside>

ìƒì†ì„ í•©ì„±ìœ¼ë¡œ ë°”ê¾¸ëŠ” ë°©ë²•ì€ ë§¤ìš° ê°„ë‹¨í•¨, ìì‹ í´ë˜ìŠ¤ì— ì„ ì–¸ëœ ìƒì† ê´€ê³„ë¥¼ ì œê±°í•˜ê³ , ë¶€ëª¨í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìì‹í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ì„ ì–¸í•˜ë©´ ë¨

### ë¶ˆí•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ ìƒì†ë¬¸ì œ: java.util.Propertiesì™€ java.util.Stack

Properties í´ë˜ìŠ¤ì—ì„œ ìƒì† ê´€ê³„ë¥¼ ì œê±°í•˜ê³  Hashtableì„ Propertiesì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ í¬í•¨ì‹œí‚¤ë©´ í•©ì„±ê´€ê³„ë¡œ ë³€ê²½í•  ìˆ˜ ìˆìŒ.

ë” ì´ìƒ ë¶ˆí•„ìš”í•œ Hashtableì˜ ì˜¤í¼ë ˆì´ì…˜ë“¤ì´ Properties í´ë˜ìŠ¤ì˜ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì˜¤ì—¼ì‹œí‚¤ì§€ ì•ŠìŒ.

```java
public class Properties {
	private Hashtable<String, String> properties = new Hashtable<>();
	
	public String setProperty(String key, String value) {
		return properties.put(key, value);
	}

	public String getProperty(String key) {
		return properties.get(key);
	}
}
```

Vectorë¥¼ ìƒì†ë°›ëŠ” Stack ì—­ì‹œ Vector ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ Stack í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ì„ ì—„í•¨ìœ¼ë¡œì¨ í•©ì„± ê´€ê³„ë¡œ ë³€ê²½ í•  ìˆ˜ ìˆìŒ.

í•©ì„±ê´€ê³„ë¡œ ë³€ê²½í•¨ìœ¼ë¡œì¨ í´ë¼ì´ì–¸íŠ¸ê°€ Stackì„ ì˜ëª» ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤ëŠ” ê°€ëŠ¥ì„±ì„ ê¹”ë”í•˜ê²Œ ì œê±°í•˜ê²Œë¨.

```java
public class Stack<E> {
	private Vector<E> elements = new Vector<>();

	public E push(E item) {
		elements.addElement(item);
		return item;
	}

	public E pop() {
		if(elements.isEmpty()) {
			throw new EmptyStackException();
		}
		return elements.remove(elements.size() - 1);
	}
}
```

### ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”©ì˜ ì˜¤ì‘ìš© ë¬¸ì œ: InstrumentedHashSet

```java
public class InstrumentedHashSet<E> {
	private int addCount = 0;
	private Set<E> set;

	public InstrumentedHashSet(Set<E> set) {
		this.set = set;
	}
	
	public boolean add(E e) {
		addCount++;
		return set.add(e);	
	}

	public boolean addAll(Collection<? extends E> c) {
		addCount += c.size();
		return set.addAll(c);
	}
	
	public int getAddCount() {
		return addCount;
	}
}
```

InstrumentedHashSetì˜ ê²½ìš°ì—ëŠ” HashSetì´ ì œê³µí•˜ëŠ” í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê·¸ëŒ€ë¡œ ì œê³µí•´ì•¼í•¨.

HashSetì— ëŒ€í•œ êµ¬í˜„ ê²°í•©ë„ëŠ” ì œê±°í•˜ë©´ì„œ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ëŠ” ê·¸ëŒ€ë¡œ ìƒì†ë°›ì„ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ì¡´ì¬í•¨.
HashSetì€ Setì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹¤ì²´í™”í•˜ëŠ” êµ¬í˜„ì²´ì¤‘ í•˜ë‚˜ì„
InstrumentedHashSetì´ ì œê³µí•´ì•¼í•˜ëŠ” ëª¨ë“  ì˜¤í¼ë ˆì´ì…˜ë“¤ì€ Setì¸í„°í˜ì´ìŠ¤ì— ì •ì˜ë˜ì–´ ìˆìŒ, 

ë”°ë¼ì„œ, InstrumentedHahSetì´ Set ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‹¤ì²´í™” í•˜ë©´ì„œ ë‚´ë¶€ì— HashSetì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•©ì„±í•˜ë©´, HashSetì— ëŒ€í•œ êµ¬í˜„ ê²°í•©ë„ëŠ” ì œê±°í•˜ë©´ì„œ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€í•  ìˆ˜ ìˆìŒ.

- ìˆ˜ì • ë²„ì „

```java
// public class InstrumentedHashSet<E> extends HashSet<E>{

public class InstrumentedHashSet<E> implements Set<E>{
	private int addCount = 0;
	private Set<E> set;

	public InstrumentedHashSet(Set<E> set) {// HashSet ì¸ìŠ¤í„´ìŠ¤ í•©ì„±
		this.set = set;
	}
	
	@Override
	public boolean add(E e) {
		addCount++;
		return set.add(e);	
	}

	@Override
	public boolean addAll(Collection<? extends E> c) {
		addCount += c.size();
		return set.addAll(c);
	}
	
	public int getAddCount() {
		return addCount;
	}

	@Override public boolean remove(Object o) { return set.remove(o); }
	...
	@Override public boolean removeAll(Collection<?> c) { return set.removeAll(c); }
}
```

InstrumentedHashSet ì˜ ì½”ë“œë¥¼ ë³´ë©´ Setì˜ ì˜¤í¼ë ˆì´ì…˜ì„ ì˜¤ë²„ë¼ì´ë”©í•œ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œì—ì„œ ë‚´ë¶€ì˜ HashSet ì¸ìŠ¤í„´ìŠ¤ì—ê²Œ ë™ì¼í•œ ë©”ì„œë“œ í˜¸ì¶œì„ ê·¸ëŒ€ë¡œ ì „ë‹¬í•¨.

ë™ì¼í•œ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•´ ì¶”ê°€ëœ ë©”ì„œë“œë¥¼ **í¬ì›Œë”© ë©”ì„œë“œ** ë¼ê³  í•¨.

í¬ì›Œë”©ì€ ê¸°ì¡´ í´ë˜ìŠ¤ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê·¸ëŒ€ë¡œ ì™¸ë¶€ì— ì œê³µí•˜ë©´ì„œ êµ¬í˜„ì— ëŒ€í•œ ê²°í•©ì—†ì´ ì¼ë¶€ ì‘ë™ ë°©ì‹ì„ ë³€ê²½í•˜ê³  ì‹¶ì€ ê²½ìš°ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìœ ìš©í•œ ê¸°ë²•ì„.

### ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹ í´ë˜ìŠ¤ì˜ ë™ì‹œ ìˆ˜ì • ë¬¸ì œ: PersonalPlaylist

ì•ˆíƒ€ê¹ê²Œë„ Playlist ì˜ ê²½ìš°ì—ëŠ” í•©ì„±ìœ¼ë¡œ ë³€ê²½í•˜ë”ë¼ë„ ê°€ìˆ˜ë³„ ë…¸ë˜ëª©ë¡ì„ ìœ ì§€í•˜ê¸°ìœ„í•´ playlistì™€ PersonalPlaylistë¥¼ í•¨ê»˜ ìˆ˜ì •í•´ì•¼í•˜ëŠ” ë¬¸ì œê°€ í•´ê²°ë˜ì§€ ì•ŠìŒ.

ê·¸ë ‡ë‹¤ê³  í•˜ë”ë¼ë„ ì—¬ì „íˆ ìƒì†ë³´ë‹¤ ì¢‹ìŒ

Playlistì˜ ë‚´ë¶€ êµ¬í˜„ì„ ë³€ê²½í•˜ë”ë¼ë„ íŒŒê¸‰íš¨ê³¼ë¥¼ ìµœëŒ€í•œ PersonalPlaylistë‚´ë¶€ë¡œ ìº¡ìŠí™” í•  ìˆ˜ ìˆê¸° ë•Œë¬¸, 
ëŒ€ë¶€ë¶„ì˜ ê²½ìš° êµ¬í˜„ì— ëŒ€í•œ ê²°í•© ë³´ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì— ëŒ€í•œ ê²°í•©ì´ ë” ì¢‹ìŒ.

```java
public class PersonalPlaylist {
	private Playlist playlist = new Playlist();

	public void append(Song song) {
		playlist.append(song);
	}

	public void remove(Song song) {
		playlist.getTracks().remove(song);
		playlist.getSingers().remove(song.getSinger());
	}
}
```

### 02. ìƒì†ìœ¼ë¡œ ì¸í•œ ì¡°í•©ì˜ í­ë°œì ì¸ ì¦ê°€

ìƒì†ìœ¼ë¡œì¸í•´ ê²°í•©ë„ê°€ ë†’ì•„ì§€ë©´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ëŠ”ë° í•„ìš”í•œ ì‘ì—…ì˜ ì–‘ì´ ê³¼ë„í•˜ê²Œ ëŠ˜ì–´ë‚˜ëŠ” ê²½í–¥ì´ ìˆìŒ.
ê°€ì¥ ì¼ë°˜ì ì¸ ìƒí™©ì€ ì‘ì€ ê¸°ëŠ¥ë“¤ì„ ì¡°í•©í•´ì„œ ë” í° ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” ê°ì²´ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ê²½ìš°ì„. 

- í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•˜ê¸° ìœ„í•´ ë¶ˆí•„ìš”í•˜ê²Œ ë§ì€ ìˆ˜ì˜ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ìˆ˜ì •í•´ì•¼í•¨.
- ë‹¨ì¼ ìƒì†ë§Œ ì§€ì›í•˜ëŠ” ì–¸ì–´ì—ì„œëŠ” ìƒì†ìœ¼ë¡œ ì¸í•´ ì˜¤íˆë ¤ ì¤‘ë³µ ì½”ë“œì˜ ì–‘ì´ ëŠ˜ì–´ë‚  ìˆ˜ ìˆìŒ.

í•©ì„±ì„ ì‚¬ìš©í•˜ë©´ ìƒì†ìœ¼ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” í´ë˜ìŠ¤ì˜ ì¦ê°€ì™€ ì¤‘ë³µ ì½”ë“œ ë¬¸ì œë¥¼ ê°„ë‹¨íˆ í•´ê²°í•  ìˆ˜ ìˆìŒ.

### ê¸°ë³¸ ì •ì±…ê³¼ ë¶€ê°€ì •ì±… ì¡°í•©í•˜ê¸°

![11.1 ê¸°ë³¸ ì •ì±…ê³¼ ë¶€ê°€ ì •ì±…ì˜ ì¢…ë¥˜](Chapter%2011%20%E1%84%92%E1%85%A1%E1%86%B8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%8B%E1%85%B2%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201a6902105c0b470f9f8b611a589d6437/Untitled.png)

11.1 ê¸°ë³¸ ì •ì±…ê³¼ ë¶€ê°€ ì •ì±…ì˜ ì¢…ë¥˜

ë¶€ê°€ ì •ì±…ì€ ë‹¤ìŒê³¼ ê°™ì€ íŠ¹ì§•ì„ ê°–ìŒ

- ê¸°ë³¸ ì •ì±…ì˜ ê³„ì‚° ê²°ê³¼ì— ì ìš©ë¨
- ì„ íƒì ìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìˆìŒ.
- ì¡°í•© ê°€ëŠ¥í•¨
- ë¶€ê°€ì •ì±…ì€ ì„ì˜ì˜ ìˆœì„œë¡œ ì ìš© ê°€ëŠ¥í•¨.

![11.2 ì¡°í•© ê°€ëŠ¥í•œ ëª¨ë“  ìš”ê¸ˆ ê³„ì‚° ìˆœì„œ](Chapter%2011%20%E1%84%92%E1%85%A1%E1%86%B8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%8B%E1%85%B2%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201a6902105c0b470f9f8b611a589d6437/Untitled%201.png)

11.2 ì¡°í•© ê°€ëŠ¥í•œ ëª¨ë“  ìš”ê¸ˆ ê³„ì‚° ìˆœì„œ

### ìƒì†ì„ ì´ìš©í•´ì„œ ê¸°ë³¸ ì •ì±… êµ¬í˜„í•˜ê¸°

```java
public abstract class Phone {
	private List<Call> calls = new ArrayList<>();
	
	public Money calculateFee() {
		Money result = Money.ZERO;
		for(Call call: calls) {
			result = result.plus(calculateCallFee(call));
		}

		return result;
	}

	abstract protected Money calculateCallFee(Call call);
}

public class RegularPhone extends Phone {
	private Money amount;
	private Duration seconds;
	
	public RegularPhone(Money amount, Duration seconds) {
		this.amount = amount;
		this.seconds = seconds;
	}

	@Override
	protected Money calculateCallFee(Call call) {
		return amount.times(call.getDuration().getSeconds()/seconds.getSeconds());
	}
}

public class NightlyDiscountPhone extends Phone {
	private static final int LATE_NIGHT_HOUR = 22;
	
	private Money nightlyAmount;
	private Money regularAmount;
	private Duration seconds;

	public NightlyDiscountPhone(Money nightlyAmount, Money regularAmount, 
															Duration duration) {
		this.nightlyAmount = nightlyAmount;
		this.regularAmount = regaularAmount;
		this.seconds = seconds
	}

	@Override
	protected Money calculateCallFee(Call call) {
		if (call.getFrom().getHour() >= LATE_NIGHT_HOUR) {
			return nightlyAmount.times(call.getDuration().getSeconds()/
																	seconds.getSeconds());
		}
		return regularAmount.times(call.getDuration().getSeconds() / 
																	seconds.getSeconds());
	}

}
```

### ê¸°ë³¸ ì •ì±…ì— ì„¸ê¸ˆ ì •ì±… ì¡°í•©í•˜ê¸°

ì„¸ê¸ˆ ì •ì±…ì„ ì¡°í•©í•˜ëŠ” ê²½ìš° super í˜¸ì¶œì„ í†µí•´ ë¶€ëª¨í´ë˜ìŠ¤ì—ê²Œ calcuateFee ë©”ì„¸ì§€ë¥¼ ì „ì†¡í•¨.

```java
public class TaxableRegualrPhone extends RegularPhone {
	private double taxRate;

	public TaxableRegularPhone(Money amount, Duration seconds, double taxRate) {
		super(amount, seconds);
		this.taxRate = taxRate;
	}

	@Override
	public Money calculateFee() {
		Money fee = super.calculateFee();
		return fee.plus(fee.times(taxRate));
	}
}
```

ë¶€ëª¨í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì¬ì‚¬ìš©í•˜ê¸°ìœ„í•´ superì„ í˜¸ì¶œì„ í•œë‹¤ë©´ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆì§€ë§Œ, 
ìì‹í´ë˜ìŠ¤ì™€ ë¶€ëª¨í´ë˜ìŠ¤ ì‚¬ì´ì˜ ê²°í•©ë„ê°€ ë†’ì•„ì§

ê²°í•©ë„ë¥¼ ë‚®ì¶”ëŠ” ë°©ë²•ì€ ìì‹í´ë˜ìŠ¤ê°€ ë¶€ëª¨í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šë„ë¡ ë¶€ëª¨í´ë˜ìŠ¤ì— ì¶”ìƒ í´ë˜ìŠ¤ ë©”ì„œë“œë¥¼ ì œê³µí•˜ëŠ” ê²ƒì„.

afterCalculatedë¥¼ ì¶”ê°€í•˜ì—¬ ìì‹í´ë˜ìŠ¤ì—ê²Œ ì „ì²´ìš”ê¸ˆ ê³„ì‚°í›„ ìˆ˜í–‰í•  ë¡œì§ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ì œê³µí•¨.

```java
public abstract class Phone {
	private List<Call> calls = new ArrayList<>();
	
	public Money calculateFee() {
		Money result = Money.ZERO
	
		for(Call call : calls) {
			result = result.plus(calculateCallFee(call));
		}
		return afterCalculated(result);
	}

	protected abstract Money calculateCallFee(Call call);
	protected abstract Money afterCalculated(Money fee);

}
```

```java
public class RegularPhone extends Phone {
	private Money amount;
	private Duration seconds;
	
	public RegularPhone(Money amount, Duration seconds) {
		this.amount = amount;
		this.seconds = seconds;
	}

	@Override
	protected Money calculateCallFee(Call call) {
		return amount.times(call.getDuration().getSeconds()/
												seconds.getSeconds());
	}

	@Override
	protected Money afterCalculated(Money fee) {
		return fee;
	}
}
```

```java
public class NightlyDiscountPhone extends Phone {
	private static final int LATE_NIGHT_HOUR = 22;
	
	private Money nightlyAmount;
	private Money regularAmount;
	private Duration seconds;

	public NightlyDiscountPhone(Money nightlyAmount, Money regularAmount,
															Duration seconds) {
		this.nightlyAmount = nightlyAmount;
		this.regularAmount = regularAmount;
		this.seconds = seconds;
	}

	@Override
	protected Money calculateCallFee(Call call) {
		if(call.getFrom().getHour() >= LATE_NIGHT_HOUR) {
			return nightlyAmount.times(call.getDuration().getSeconds()/
																	seconds.getSeconds());
		} else {
			return regularAmount.times(call.getDuration().getSeconds)_/
																	seconds.getSeconds());
		}
	}

	@Override
	protected Money afterCalculated(Money fee) {
		return fee;
	}
}
```

ë‘ ì¶”ìƒë©”ì„œë“œ(afterCalculateFee) êµ¬í˜„ì´ ê°™ì•„ ê¸°ë³¸êµ¬í˜„ì„ ì œê³µí•¨.

```java
public abstract class Phone {
...
	protected Money afterCalculateFee(Money fee) {
		return fee;
	}

	protected abstract Money calculateCallFee(Call call);
}
```

```java
public class TaxableRegularPhone extends RegularPhone {
	private double taxRate;
	
	public TaxableRegularPhone(Money amount, Duration seconds, double taxRate) {
		super(amount, seconds);
		this.taxRate = taxRate;
	}

	@Override
	protected Money afterCalcuated(Money fee) {
		return fee.plus(fee.times(taxRate));
	}
}
```

```java
public class TaxableNightlyDiscountPhone extends NightlyDiscountPhone {
	private double taxRate;

	public TaxableNightlyDiscountPhone(Money nightlyAmount, Money regularAmount,
																		Duration seconds, double taxRate) {
		super(nightlyAmount, regularAmount, seconds);
		this.taxRate = taxRate;	
	}

	@Override
	protected Money afterCalculated(Money fee) {
		return fee.plus(fee.times(taxRate));
	}
}
```

![Untitled](Chapter%2011%20%E1%84%92%E1%85%A1%E1%86%B8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%8B%E1%85%B2%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201a6902105c0b470f9f8b611a589d6437/Untitled%202.png)

### ê¸°ë³¸ ì •ì±…ì— ê¸°ë³¸ ìš”ê¸ˆ í• ì¸ ì •ì±… ì¡°í•©í•˜ê¸°

```java
public class RateDiscountableRegularPhone extends RegularPhone {
	private Money discountAmount;

	public RateDiscountableRegaulrPhone(Money amount, Duration seconds,
																			Money discountAmount) {
		super(amount, seconds);
		this.discountAmount = discountAmount;
	}

	@Override
	protected Money afterCalculated(Money fee) {
		return fee.minus(discountAmount);
	}
}
```

```java
public class RateDiscountableNightlyDiscountPhone extends NightlyDiscountPhone {
	private Money discountAmount;

	public RateDiscountableNightlyDiscountPhone(Money nightlyAmount,
																		Money regaulrAmount, Duration seconds,
																		Money discountAmount) {
		super(nightlyAmount, regularAmount, seconds);
		this.discountAmount = discountAmount;
	}
																							
	@Override
	protected Money afterCalculated(Money fee) {
		return fee.minus(discountAmount);
	}
}
```

![Untitled](Chapter%2011%20%E1%84%92%E1%85%A1%E1%86%B8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%8B%E1%85%B2%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201a6902105c0b470f9f8b611a589d6437/Untitled%203.png)

### ì¤‘ë³µ ì½”ë“œì˜ ë«ì— ê±¸ë¦¬ë‹¤

```java
public class TaxableAndRateDiscountableRegularPhone 
																			extends TaxableRegaularPhone {
	private Money discountAmount;
	
	public TaxableAndRateDiscountableregaulrPhone(Money amount,
									Duration seconds, double taxRate, Money discountAmount) {
		super(amount, seconds, taxRate)
		this.discountAmount = discountAmount;
	}

	@Override
	protected Money afterCalculated(Money fee) {
			return super.afterCalculatedFee(fee).minus(discountAmount);
	}
}

```

```java
public class RateDiscountableAndTaxableRegularPhone 
													extends RateDiscountableRegularPhone {
	private double taxRate;
	
	public RateDiscountableAndTaxableRegularPhone(Money amount,
		Duration seconds, Money discountAmount, double taxRate) {
		super(amount, seconds, discountAmount);
		this.taxRate = taxRate;
	}

	@Override
	protected Money afterCalculated(Money fee) {
		return super.afterCalculated(fee).plus(fee.times(taxRate));
	}

}
```

```java
public class TaxableAndDiscountableNightly extends TaxableNightlyDiscountPhone {
	private Money discountAmount;

	public TaxableAndDiscountableNightlyDiscountPhone(Money nightlyAmount,
			Money regularAmount, Duration seconds, double taxRate,
			Money discountAmount) {
		super(nightlyAmount, regularAmount, seconds, taxRate);
		this.discountAmount = discountAmount;
	}

	@Override
	protected Money afterCalculated(Money fee) {
		return super.afterCalculated(fee).minus(discountAmount);
	}
}
```

```java
public class RateDiscountableAndTaxableNightlyDiscountPhone
		 extends RateDiscountableNightlyDiscountPhone {
	private double taxRate;

	public RateDiscountableAndTaxableNightlyDiscountPhone
		(Money nightlyAmount,
			Money regularAmount, Duration seconds, Money discountAmount, 
			double taxRate) {
		super(nightlyAmount, regularAmount, seconds, discountAmount);
		this.taxRate = taxRate;
	}

	@Override
	protected Money afterCalculated(Money fee) {
		return super.afterCalculated(fee).plus(fee.times(taxRate));
	}
}
```

![Untitled](Chapter%2011%20%E1%84%92%E1%85%A1%E1%86%B8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%8B%E1%85%B2%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201a6902105c0b470f9f8b611a589d6437/Untitled%204.png)

![Untitled](Chapter%2011%20%E1%84%92%E1%85%A1%E1%86%B8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%8B%E1%85%B2%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201a6902105c0b470f9f8b611a589d6437/Untitled%205.png)

ìƒì† ë‚¨ìš©ìœ¼ë¡œ í•˜ë‚˜ì˜ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê¸°ìœ„í•´ í•„ìš” ì´ìƒìœ¼ë¡œ ë§ì€ ìˆ˜ì˜ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•´ì•¼í•˜ëŠ” ê²½ìš°ë¥¼ ê°€ë¦¬ì¼œ **í´ë˜ìŠ¤ í­ë°œ** ë¬¸ì œ ë˜ëŠ” **ì¡°í•©ì˜ í­ë°œ** ë¬¸ì œ ë¼ê³  ë¶€ë¦„

ì»´íŒŒì¼íƒ€ì„ì— ê²°ì •ëœ ìì‹ í´ë˜ìŠ¤ì™€ ë¶€ëª¨í´ë˜ìŠ¤ ì‚¬ì´ì˜ ê´€ê³„ëŠ” ë³€ê²½ë  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ìì‹ í´ë˜ìŠ¤ì™€ ë¶€ëª¨í´ë˜ìŠ¤ì˜ ë‹¤ì–‘í•œ ì¡°í•©ì´ í•„ìš”í•œ ìƒí™©ì—ì„œ ìœ ì¼í•œ í•´ê²°ë°©ë²•ì€ ì¡°í•©ì˜ ìˆ˜ ë§Œí¼ ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒ ë¿ì„.

ê¸°ëŠ¥ ì¶”ê°€ ë¿ë§Œ ì•„ë‹ˆë¼ ê¸°ëŠ¥ì„ ìˆ˜ì •í• ë•Œë„ ë¬¸ì œì„. 
ì„¸ê¸ˆ ì •ì±… ë³€ê²½ì‹œ ì„¸ê¸ˆ ì •ì±…ê³¼ ê´€ë ¨ëœ ëª¨ë“  í´ë˜ìŠ¤ë¥¼ ì°¾ì•„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •í•´ì•¼í•¨. ì´ í´ë˜ìŠ¤ì¤‘ì—ì„œ í•˜ë‚˜ë¼ë„ ëˆ„ë½í•œë‹¤ë©´ ì„¸ê¸ˆì´ ë¶€ê³¼ë˜ì§€ ì•ŠëŠ” ë²„ê·¸ê°€ ë°œìƒí•¨.

### 03. í•©ì„± ê´€ê³„ë¡œ ë³€ê²½í•˜ê¸°

ìƒì† ê´€ê³„ëŠ” ì»´íŒŒì¼íƒ€ì„ ì‹œì ì—ì„œ ê²°ì •ë˜ê¸° ë•Œë¬¸ì— ëŸ°íƒ€ì„ ì‹œì ì—ì„œëŠ” ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.
ë”°ë¼ì„œ ì—¬ëŸ¬ ê¸°ëŠ¥ì„ ì¡°í•©í•´ì•¼ í•˜ëŠ” ì„¤ê³„ì— ìƒì†ì„ ì‚¬ìš©í•œë‹¤ë©´
ëª¨ë“  ì‚¬ìš© ê°€ëŠ¥í•œ ê²½ìš°ë³„ë¡œ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€í•´ì•¼í•œë‹¤.
â†’ í•¸ë“œí° ê³¼ê¸ˆ ì‹œìŠ¤í…œì˜ ì„¤ê³„ ê³¼ì •ì—ì„œ ì§ë©´í–ˆë˜ í´ë˜ìŠ¤ í­ë°œ ë¬¸ì œ

í•˜ì§€ë§Œ **í•©ì„±**ì„ ì‚¬ìš©í•˜ë©´ ****ì»´íŒŒì¼íƒ€ì„ ê´€ê³„ë¥¼ ëŸ°íƒ€ì„ ê´€ê³„ë¡œ ë³€ê²½í•´ ìœ„ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
â†’ í¼ë¸”ë¦­ ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•´ ëŸ°íƒ€ì„ ì‹œì ì—ì„œ ê°ì²´ì˜ ê´€ê³„ë¥¼ ë³€ê²½

[8ì¥](Chpater%2008%20%E1%84%8B%E1%85%B4%E1%84%8C%E1%85%A9%E1%86%AB%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%B5%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5%2041888d52622f493398bb3a16efee6778.md)ì—ì„œë„ ë§í–ˆë“¯ ì»´íŒŒì¼ ì˜ì¡´ì„±ê³¼ ëŸ°íƒ€ì„ ì˜ì¡´ì„±ì˜ ê±°ë¦¬ê°€ ë©€ë©´ ë©€ìˆ˜ë¡ ì„¤ê³„ê°€ ìœ ì—°í•´ì§„ë‹¤.
ìƒì†ì„ ì‚¬ìš©í•˜ë©´ ì»´íŒŒì¼ ì˜ì¡´ì„±ê³¼ ëŸ°íƒ€ì„ ì˜ì¡´ì„±ì„ ë™ì¼ì„ ìƒì— ë‘ê² ë‹¤ê³  ì„ ì–¸í•˜ëŠ” ê²ƒì´ë‹¤.
ê·¸ì— ë°˜í•´ í•©ì„± ê´€ê³„ëŠ” ì»´íŒŒì¼ ì˜ì¡´ì„±ê³¼ ëŸ°íƒ€ì„ ì˜ì¡´ì„±ì„ ë‹¤ë¥´ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

![ê·¸ë¦¼ 11.2 ì¡°í•© ê°€ëŠ¥í•œ ëª¨ë“  ìš”ê¸ˆ ê³„ì‚° ìˆœì„œ](Chapter%2011%20%E1%84%92%E1%85%A1%E1%86%B8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%8B%E1%85%B2%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201a6902105c0b470f9f8b611a589d6437/Untitled%206.png)

ê·¸ë¦¼ 11.2 ì¡°í•© ê°€ëŠ¥í•œ ëª¨ë“  ìš”ê¸ˆ ê³„ì‚° ìˆœì„œ

ìœ„ ê·¸ë¦¼ì—ì„œëŠ” ê¸°ë³¸ ì •ì±…ê³¼ ë¶€ê°€ ì •ì±…ì„ ë…ë¦½ì  ë°•ìŠ¤ë¡œ í‘œí˜„í•˜ê³  ìˆœì„œì— ë”°ë¼ ì¡°í•©í–ˆë‹¤.
í•©ì„±ì„ ì‚¬ìš©í•˜ë©´ êµ¬í˜„ ì‹œì ì— ì •ì±…ë“¤ì˜ ê´€ê³„ë¥¼ ê³ ì •ì‹œí‚¬ í•„ìš”ê°€ ì—†ìœ¼ë©°
ëŸ°íƒ€ì„ ì‹œì ì— ì •ì±…ë“¤ì˜ ê´€ê³„ë¥¼ ìœ ì—°í•˜ê²Œ ë³€ê²½í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

ìƒì†ì´ ì¡°í•©ì˜ ê²°ê³¼ë¥¼ ê°œë³„ í´ë˜ìŠ¤ ì•ˆìœ¼ë¡œ ë°€ì–´ ë„£ëŠ” ë°©ë²•ì´ë¼ë©´
í•©ì„±ì€ ì¡°í•©ì„ êµ¬ì„±í•˜ëŠ” ìš”ì†Œë“¤ì„ ê°œë³„ í´ë˜ìŠ¤ë¡œ êµ¬í˜„í•œ í›„
ëŸ°íƒ€ì„ ì‹œì ì— ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¡°ë¦½í•˜ëŠ” ë°©ë²•ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.

ì»´íŒŒì¼ ì˜ì¡´ì„±ì— ì†ë°•ë˜ì§€ ì•Šê³  ë‹¤ì–‘í•œ ë°©ì‹ì˜ ëŸ°íƒ€ì„ ì˜ì¡´ì„±ì„
êµ¬ì„±í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ í•©ì„±ì˜ ê°€ì¥ ì»¤ë‹¤ë€ ì¥ì ì´ë‹¤.

ì•„ë˜ëŠ” ìœ„ì˜ ìƒì† ê´€ê³„ë¡œ ë‚˜ì˜¨ ì¼€ì´ìŠ¤ë¥¼ í•©ì„± ê´€ê³„ë¡œ ë°”ê¾¼ êµ¬ì¡°ë“¤ì´ë‹¤.

![ê·¸ë¦¼ 11.11 ê¸°ë³¸ ì •ì±…ê³¼ ë¶€ê°€ ì •ì±…ì„ ì¡°í•©í•  ìˆ˜ ìˆëŠ” ìƒì† êµ¬ì¡°](Chapter%2011%20%E1%84%92%E1%85%A1%E1%86%B8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%8B%E1%85%B2%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201a6902105c0b470f9f8b611a589d6437/Untitled%207.png)

ê·¸ë¦¼ 11.11 ê¸°ë³¸ ì •ì±…ê³¼ ë¶€ê°€ ì •ì±…ì„ ì¡°í•©í•  ìˆ˜ ìˆëŠ” ìƒì† êµ¬ì¡°

![ê·¸ë¦¼ 11.12 ìƒˆë¡œìš´ ê¸°ë³¸ ì •ì±… ì¶”ê°€í•˜ê¸°](Chapter%2011%20%E1%84%92%E1%85%A1%E1%86%B8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%8B%E1%85%B2%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201a6902105c0b470f9f8b611a589d6437/Untitled%208.png)

ê·¸ë¦¼ 11.12 ìƒˆë¡œìš´ ê¸°ë³¸ ì •ì±… ì¶”ê°€í•˜ê¸°

![ê·¸ë¦¼ 11.13 ìƒˆë¡œìš´ ë¶€ê°€ ì •ì±… ì¶”ê°€í•˜ê¸°](Chapter%2011%20%E1%84%92%E1%85%A1%E1%86%B8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%8B%E1%85%B2%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201a6902105c0b470f9f8b611a589d6437/Untitled%209.png)

ê·¸ë¦¼ 11.13 ìƒˆë¡œìš´ ë¶€ê°€ ì •ì±… ì¶”ê°€í•˜ê¸°

### ê°ì²´ í•©ì„±ì´ í´ë˜ìŠ¤ ìƒì†ë³´ë‹¤ ë” ì¢‹ì€ ë°©ë²•ì´ë‹¤

ê°ì²´ì§€í–¥ì—ì„œ ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ê¸° ìœ„í•´ ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë°©ë²•ì€ ìƒì†ì´ë‹¤.
í•˜ì§€ë§Œ ìƒì†ì€ ì½”ë“œ ì¬ì‚¬ìš©ì„ ìœ„í•œ í•´ê²°ì±…ì€ ì•„ë‹ˆë‹¤.
â†’ ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ì„¸ë¶€ì ì¸ êµ¬í˜„ì— ìì‹ í´ë˜ìŠ¤ê°€ ê°•í•˜ê²Œ ê²°í•©í•˜ê¸° ë•Œë¬¸ì—
ìˆ˜ì •/ì¶”ê°€ì— ëŒ€í•´ ë²ˆê±°ë¡œì›€ì´ ë°œìƒ

ì´ ë•Œë¬¸ì— ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì´ê¸° ìœ„í•´ ê°ì²´ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¬ì‚¬ìš©í•˜ëŠ” í•©ì„±ì„ ì‚¬ìš©í•œë‹¤.

### 04. ë¯¹ìŠ¤ì¸

ë¯¹ìŠ¤ì¸ì€ ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ì½”ë“œ ì¼ë¶€ë¥¼ í´ë˜ìŠ¤ ì•ˆì— ì„ì–´ ë„£ì–´ ì¬ì‚¬ìš©í•˜ëŠ” ê¸°ë²•ì´ë‹¤.
í•©ì„±ì´ ëŸ°íƒ€ì„ ì‹œì ì— ê°ì²´ë¥¼ ì¡°í•©í•˜ëŠ” ë°©ë²•ì´ë¼ë©´ ë¯¹ìŠ¤ì¸ì€ ì»´íŒŒì¼ ì‹œì ì— í•„ìš”í•œ ì½”ë“œ ì¡°ê°ì„ ì¡°í•©í•˜ëŠ” ì¬ì‚¬ìš© ë°©ë²•ì´ë‹¤.

ìƒì†ê³¼ ë¯¹ìŠ¤ì¸ì€ ë¹„ìŠ·í•´ ë³´ì´ì§€ë§Œ ìƒì†ì€ ìì‹ í´ë˜ìŠ¤ë¥¼
ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ë™ì¼í•œ ê°œë…ì ì¸ ë²”ì£¼ë¡œ ë¬¶ì–´ is-a ê´€ê³„ë¥¼ ë§Œë“¤ê¸° ìœ„í•œ ê²ƒì´ë‹¤.
ë°˜ë©´ì— ë¯¹ìŠ¤ì¸ì€ ë§ ê·¸ëŒ€ë¡œ ì½”ë“œë¥¼ ë‹¤ë¥¸ ì½”ë“œ ì•ˆì— ì„ì–´ ë„£ê¸° ìœ„í•œ ë°©ë²•ì´ë‹¤.

ë¯¹ìŠ¤ì¸ê³¼ ìƒì†ì˜ ê°€ì¥ í° ì°¨ì´ì ì€ ìƒì†ì´ í´ë˜ìŠ¤ì™€
í´ë˜ìŠ¤ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ê³ ì •ì‹œí‚¤ëŠ”ë° ë¹„í•´ ë¯¹ìŠ¤ì¸ì€ ìœ ì—°í•˜ê²Œ ê´€ê³„ë¥¼ ì¬êµ¬ì„± í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.

![ê·¸ë¦¼ 11.15 ì„ í˜•í™” í›„ì˜ RateDisâ€¦.Policy ê³„ì¸µêµ¬ì¡°](Chapter%2011%20%E1%84%92%E1%85%A1%E1%86%B8%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA%20%E1%84%8B%E1%85%B2%E1%84%8B%E1%85%A7%E1%86%AB%E1%84%92%E1%85%A1%E1%86%AB%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8%201a6902105c0b470f9f8b611a589d6437/Untitled%2010.png)

ê·¸ë¦¼ 11.15 ì„ í˜•í™” í›„ì˜ RateDisâ€¦.Policy ê³„ì¸µêµ¬ì¡°

ìœ„ ê·¸ë¦¼ì„ ë³´ë©´ TaxablePolicy íŠ¸ë ˆì´íŠ¸ê°€ BasicRatePolicy ë¥¼ í™•ì¥í•˜ê³  ìˆëŠ”ë°
ì´ëŠ” ìƒì† ê³„ì¦ê³¼ ì¡°ê¸ˆ ë‹¤ë¥¸ ë¶€ë¶„ì´ ì¡´ì¬í•œë‹¤.

ìœ„ êµ¬ì¡°ì—ì„œì˜ extends ëŠ” TaxablePolicy ê°€ ì‚¬ìš©ë  ìˆ˜ ìˆëŠ” ë¬¸ë§¥ì„ ì œí•œí•  ë¿ì´ë‹¤.
TaxablePolicy ëŠ” BasicRatePolicy ë¥¼ ìƒì†ë°›ì€ ê²½ìš°ì—ë§Œ ë¯¹ìŠ¤ì¸ ë  ìˆ˜ ìˆë‹¤.

ë”°ë¼ì„œ RegularPolicy ì™€ NightlyDiscountPolicy ì— ë¯¹ìŠ¤ì¸ ë  ìˆ˜ ìˆìœ¼ë©°
ë¯¸ë˜ì— ìƒˆë¡œ ì¶”ê°€ë  BasicRatePolicy ìì†ì—ê²Œë„ ë¯¹ìŠ¤ì¸ ë  ìˆ˜ ìˆì§€ë§Œ
ë‹¤ë¥¸ í´ë˜ìŠ¤/íŠ¸ë ˆì´íŠ¸ ì—ì„œëŠ” ë¯¹ìŠ¤ì¸ë  ìˆ˜ ì—†ë‹¤.

ë‹¤ì‹œ ë§í•´ ìƒì†ê³¼ ë¯¹ìŠ¤ì¸ì˜ ì°¨ì´ëŠ” ìƒì†ì€ ì •ì ì´ì§€ë§Œ ë¯¹ìŠ¤ì¸ì€ ë™ì ì´ê³ 
ìƒì†ì€ ë¶€ëª¨ í´ë˜ìŠ¤ì™€ ìì‹ í´ë˜ìŠ¤ì˜ ê´€ê³„ë¥¼ ì½”ë“œë¡œ ì‘ì„±í•˜ëŠ” ì‹œì ì— ê³ ì •ì‹œì¼œ ë²„ë¦¬ì§€ë§Œ
ë¯¹ìŠ¤ì¸ì€ ì œì•½ì„ ë‘˜ ë¿ ì–´ë–¤ ì½”ë“œì— ë¯¹ìŠ¤ì¸ ë  ê²ƒì¸ì§€ë¥¼ ê²°ì •í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤.

ì—¬ê¸°ì„œ íŠ¸ë ˆì´íŠ¸ë€ ìŠ¤ì¹¼ë¼ ì–¸ì–´ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë¯¹ìŠ¤ì¸ ê¸°ë²•ìœ¼ë¡œ
ì–´ë–¤ í•˜ë‚˜ì˜ ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ê³ ì •í•˜ì§€ ì•Šê³  ëŸ°íƒ€ì„ ì‹œì ì— ê²°ì •ë˜ëŠ” ê²ƒì´ë‹¤.

### ìŒ“ì„ ìˆ˜ ìˆëŠ” ë³€ê²½

ì „í†µì ìœ¼ë¡œ ë¯¹ìŠ¤ì¸ì€ í•œ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì¬ì‚¬ìš©í•˜ê³  ê¸°ëŠ¥ì„ í™•ì¥í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë¼ ì™”ë‹¤.
ìœ„ ì˜ˆì‹œ (í•¸ë“œí° ê³¼ê¸ˆ ì‹œìŠ¤í…œ) ê°™ì€ ê²½ìš°
BasicRatePolicy ì˜ calculateFee ë©”ì„œë“œì˜ ê¸°ëŠ¥ì„ í™•ì¥í•˜ê¸° ìœ„í•´ ë¯¹ìŠ¤ì¸ì„ ì‚¬ìš©í–ˆë‹¤.

ë¯¹ìŠ¤ì¸ì€ ìƒì† ê³„ì¸µ ì•ˆì—ì„œ í™•ì¥í•œ í´ë˜ìŠ¤ë³´ë‹¤ ë” í•˜ìœ„ì— ìœ„ì¹˜í•˜ê²Œ ëœë‹¤.
ë‹¤ì‹œ ë§í•´ ëŒ€ìƒ í´ë˜ìŠ¤ì˜ ìì‹ í´ë˜ìŠ¤ì²˜ëŸ¼ ì‚¬ìš©ë  ìš©ë„ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒì´ë‹¤.
ë”°ë¼ì„œ ë¯¹ìŠ¤ì¸ì„ **ì¶”ìƒ ì„œë¸Œí´ë˜ìŠ¤**ë¼ê³  ë¶€ë¥´ê¸°ë„ í•œë‹¤.

ë¯¹ìŠ¤ì¸ì„ ì‚¬ìš©í•˜ë©´ íŠ¹ì •í•œ í´ë˜ìŠ¤ì— ëŒ€í•œ ë³€ê²½ ë˜ëŠ” í™•ì¥ì„ ë…ë¦½ì ìœ¼ë¡œ êµ¬í˜„í•˜ê³ 
í•„ìš”í•œ ì‹œì ì— ì°¨ë¡€ëŒ€ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.

ë¯¹ìŠ¤ì¸ì˜ ì´ëŸ¬í•œ íŠ¹ì§•ì„ **ìŒ“ì„ ìˆ˜ ìˆëŠ” ë³€ê²½**ì´ë¼ê³  ë¶€ë¥¸ë‹¤.